<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üö® Hospital Emergency Codes üö®</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f7fb;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      max-width: 1200px;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #333;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }
    .card {
      border-radius: 12px;
      padding: 20px;
      color: white;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 18px rgba(0,0,0,0.25);
    }
    .code { font-size: 22px; margin-bottom: 10px; }
    .dept { font-size: 16px; }

    /* Colors for each code */
    .red { background: #e63946; }
    .blue { background: #457b9d; }
    .yellow { background: #f1c40f; color: black; }
    .violet { background: #9b59b6; }
    .pink { background: #ff6b81; }
    .white { background: #ecf0f1; color: black; }
    .brown { background: #8d6e63; }
    .black { background: #2d3436; }
    .orange { background: #e67e22; }
    .green { background: #27ae60; }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    .dept-btn {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      color: #fff;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .close {
      margin-top: 10px;
      padding: 10px;
      border: none;
      border-radius: 6px;
      background: #444;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üö® Emergency Codes / ‡§Ü‡§™‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§ï‡•ã‡§° üö®</h1>// Title main
    <div class="grid">
  <div class="card red" onclick="openModal(1,'Fire / Smoke / ‡§Ü‡§ó‡§≤‡§æ‡§ó‡•Ä')">
    <div class="code">Code 001</div>
    <div class="dept">Fire / Smoke / ‡§Ü‡§ó‡§≤‡§æ‡§ó‡•Ä</div>
  </div>
  <div class="card blue" onclick="openModal(2,'Cardiac Arrest / ‡§Æ‡•Å‡§ü‡•Å‡§ï‡•ã ‡§Ü‡§™‡§§‡§ï‡§æ‡§≤')">
    <div class="code">Code 002</div>
    <div class="dept">Cardiac Arrest / ‡§Æ‡•Å‡§ü‡•Å‡§ï‡•ã ‡§Ü‡§™‡§§‡§ï‡§æ‡§≤</div>
  </div>
  <div class="card yellow" onclick="openModal(3,'Hazardous Spill / ‡§π‡§æ‡§®‡§ø‡§ï‡§æ‡§∞‡§ï ‡§™‡§¶‡§æ‡§∞‡•ç‡§• ‡§´‡•à‡§≤‡§æ‡§µ‡§ü')">
    <div class="code">Code 003</div>
    <div class="dept">Hazardous Spill / ‡§π‡§æ‡§®‡§ø‡§ï‡§æ‡§∞‡§ï ‡§™‡§¶‡§æ‡§∞‡•ç‡§• ‡§´‡•à‡§≤‡§æ‡§µ‡§ü</div>
  </div>
  <div class="card violet" onclick="openModal(4,'Patient/Family Violence / ‡§¨‡§ø‡§∞‡§æ‡§Æ‡•Ä ‡§µ‡§æ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§π‡§ø‡§Ç‡§∏‡§æ')">
    <div class="code">Code 004</div>
    <div class="dept">Patient/Family Violence / ‡§¨‡§ø‡§∞‡§æ‡§Æ‡•Ä ‡§µ‡§æ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§π‡§ø‡§Ç‡§∏‡§æ</div>
  </div>
  <div class="card pink" onclick="openModal(5,'Child Abduction / ‡§¨‡§ö‡•ç‡§ö‡§æ ‡§π‡§∞‡§æ‡§è‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§®‡§æ')">
    <div class="code">Code 005</div>
    <div class="dept">Child Abduction / ‡§¨‡§ö‡•ç‡§ö‡§æ ‡§π‡§∞‡§æ‡§è‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§®‡§æ</div>
  </div>
  <div class="card white" onclick="openModal(6,'Mob Violence / ‡§≠‡§ø‡§° ‡§π‡§ø‡§Ç‡§∏‡§æ‡§§‡•ç‡§Æ‡§ï ‡§≠‡§è‡§ï‡•ã')">
    <div class="code">Code 006</div>
    <div class="dept">Mob Violence / ‡§≠‡§ø‡§° ‡§π‡§ø‡§Ç‡§∏‡§æ‡§§‡•ç‡§Æ‡§ï ‡§≠‡§è‡§ï‡•ã</div>
  </div>
  <div class="card brown" onclick="openModal(7,'External Mass Casualty / ‡§¨‡§æ‡§π‡•ç‡§Ø ‡§†‡•Ç‡§≤‡•ã ‡§¶‡•Å‡§∞‡•ç‡§ò‡§ü‡§®‡§æ')">
    <div class="code">Code 007</div>
    <div class="dept">External Mass Casualty / ‡§¨‡§æ‡§π‡•ç‡§Ø ‡§†‡•Ç‡§≤‡•ã ‡§¶‡•Å‡§∞‡•ç‡§ò‡§ü‡§®‡§æ</div>
  </div>
  <div class="card black" onclick="openModal(8,'Bomb Threat / ‡§¨‡§Æ‡§ï‡•ã ‡§ñ‡§§‡§∞‡§æ')">
    <div class="code">Code 008</div>
    <div class="dept">Bomb Threat / ‡§¨‡§Æ‡§ï‡•ã ‡§ñ‡§§‡§∞‡§æ</div>
  </div>
  <div class="card orange" onclick="openModal(9,'Internal Casualty / ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤‡§≠‡§ø‡§§‡•ç‡§∞‡§ï‡•ã ‡§ö‡•ã‡§ü‡§™‡§ü‡§ï ‡§Ü‡§™‡§§‡§ï‡§æ‡§≤')">
    <div class="code">Code 009</div>
    <div class="dept">Internal Casualty / ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤‡§≠‡§ø‡§§‡•ç‡§∞‡§ï‡•ã ‡§ö‡•ã‡§ü‡§™‡§ü‡§ï ‡§Ü‡§™‡§§‡§ï‡§æ‡§≤</div>
  </div>
  <div class="card green" onclick="openModal(10,'All Clear / ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≠‡§è‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§®‡§æ')">
    <div class="code">Code 010</div>
    <div class="dept">All Clear / ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≠‡§è‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§®‡§æ</div>
  </div>
</div>


  <!-- Modal -->
  <div class="modal" id="deptModal">
    <div class="modal-content">
      <h2 id="modalTitle"></h2>
      <p>Select Department (‡§µ‡§ø‡§≠‡§æ‡§ó ‡§∞‡•ã‡§ú‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç):</p>
      <div id="deptButtons"></div>
      <button class="close" onclick="closeModal()">Close / ‡§¨‡§®‡•ç‡§¶ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
    </div>
  </div>

  <script>
    const departments = [
      "Emergency / ‡§Ü‡§ï‡§∏‡•ç‡§Æ‡§ø‡§ï",
      "Surgery / ‡§∂‡§≤‡•ç‡§Ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ",
      "ICU / ‡§Ü‡§à.‡§∏‡•Ä.‡§Ø‡•Ç.",
      "Pediatrics / ‡§¨‡§æ‡§≤‡§∞‡•ã‡§ó",
      "Gynecology / ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§∞‡•ã‡§ó",
      "Orthopedics / ‡§Ö‡§∏‡•ç‡§•‡§ø‡§∞‡•ã‡§ó",
      "Laboratory / ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§∂‡§æ‡§≤‡§æ",
      "Radiology / ‡§∞‡•á‡§°‡§ø‡§Ø‡•ã‡§≤‡•ã‡§ú‡•Ä",
      "Pharmacy / ‡§î‡§∑‡§ß‡§ø‡§æ‡§≤‡§Ø",
      "Administration / ‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§®"
    ];

    function openModal(code, label) {
      document.getElementById('deptModal').style.display = 'flex';
      document.getElementById('modalTitle').innerText = `Code ${String(code).padStart(3,'0')} - ${label}`;
      let deptHTML = '';
      departments.forEach(d => {
        deptHTML += `<button class='dept-btn' style='background:${getColor(code)}' onclick="speakDept(${code}, '${d}')">${d}</button>`;
      });
      document.getElementById('deptButtons').innerHTML = deptHTML;
    }

    function closeModal() {
      document.getElementById('deptModal').style.display = 'none';
    }

    // Speak only code + department, loop ~20 seconds
    // Speak only code + English (no Nepali, no "/")
function speakDept(code, dept) {
  // Remove everything after "/" to keep only English
  let cleanDept = dept.split('/')[0].trim();

  let text = `Attention please! Code ${String(code).padStart(3,'0')}, Department: ${cleanDept}`;
  const speech = new SpeechSynthesisUtterance(text);
  speech.lang = 'en-US';

  let startTime = Date.now();
  function repeatSpeech() {
    if (Date.now() - startTime < 20000) { // ~20 seconds loop
      window.speechSynthesis.speak(speech);
      speech.onend = repeatSpeech;
    }
  }
  repeatSpeech();
}


    function getColor(code){
      switch(code){
        case 1: return 'red';
        case 2: return 'blue';
        case 3: return 'gold';
        case 4: return 'violet';
        case 5: return 'pink';
        case 6: return 'gray';
        case 7: return 'brown';
        case 8: return 'black';
        case 9: return 'orange';
        case 10: return 'green';
        default: return 'gray';
      }
    }
  </script>
</body>
</html>
